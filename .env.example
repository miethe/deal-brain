# Deal Brain environment variables
DATABASE_URL=postgresql+asyncpg://dealbrain:dealbrain@db:5432/dealbrain
SYNC_DATABASE_URL=postgresql+psycopg://dealbrain:dealbrain@db:5432/dealbrain
REDIS_URL=redis://redis:6379/0
SECRET_KEY=changeme
LOG_LEVEL=INFO
ENVIRONMENT=development
API_HOST=0.0.0.0
API_PORT=8000
WEB_URL=http://localhost:3000

# Data import paths
IMPORT_ROOT=./data/imports
EXPORT_ROOT=./data/exports

# Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
PROMETHEUS_ENABLED=true

# URL Ingestion Configuration
# Master control for URL ingestion feature (true/false)
INGESTION_INGESTION_ENABLED=true

# eBay Adapter Configuration
EBAY_API_KEY=
INGESTION_EBAY_ENABLED=true
INGESTION_EBAY_TIMEOUT_S=6
INGESTION_EBAY_RETRIES=2

# JSON-LD Adapter Configuration (no API key required)
INGESTION_JSONLD_ENABLED=true
INGESTION_JSONLD_TIMEOUT_S=8
INGESTION_JSONLD_RETRIES=1

# Amazon Adapter Configuration (disabled - P1 phase implementation)
AMAZON_API_KEY=
INGESTION_AMAZON_ENABLED=false
INGESTION_AMAZON_TIMEOUT_S=8
INGESTION_AMAZON_RETRIES=1

# Price Change Detection
# Percentage change threshold (0.0-100.0)
INGESTION_PRICE_CHANGE_THRESHOLD_PCT=2.0
# Absolute change threshold in USD (decimal)
INGESTION_PRICE_CHANGE_THRESHOLD_ABS=1.0

# Raw Payload Management
# Time-to-live for stored payloads in days (1-365)
INGESTION_RAW_PAYLOAD_TTL_DAYS=30
# Maximum payload size in bytes (1024-10485760, default 512KB)
INGESTION_RAW_PAYLOAD_MAX_BYTES=524288

# Playwright Configuration (Card Image Generation)
# Enable/disable Playwright headless browser (true/false)
PLAYWRIGHT__ENABLED=true
# Maximum concurrent browser instances (1-10, default 2)
PLAYWRIGHT__MAX_CONCURRENT_BROWSERS=2
# Browser operation timeout in milliseconds (5000-120000, default 30000)
PLAYWRIGHT__BROWSER_TIMEOUT_MS=30000
# Run browsers in headless mode (true/false, must be true for Docker)
PLAYWRIGHT__HEADLESS=true

# S3 Configuration (Card Image Caching)
# Enable/disable S3 storage (true/false)
S3__ENABLED=false
# S3 bucket name
AWS_S3_BUCKET_NAME=dealbrain-card-images
# AWS region
AWS_REGION=us-east-1
# AWS credentials (optional, prefer IAM roles in production)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
# Card image cache TTL in seconds (86400-31536000, default 2592000 = 30 days)
S3__CACHE_TTL_SECONDS=2592000
# Custom S3 endpoint (for LocalStack/MinIO in development)
S3__ENDPOINT_URL=

