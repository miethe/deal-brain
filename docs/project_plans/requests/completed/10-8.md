# Enhancements and Fixes

Date: 10-8-25

The following requests and fixes are proposed to improve the user experience and functionality of the application. Each item needs to be evaluated and designed thoroughly for implementation into the app. The implementation of each should then be planned.

## Notes

- Review @architecture.md for current architecture overview.

## Requests

### Listings

- There should be a new listing_url field for each listing for a link to the item on the original listing site (eg, eBay, Craigslist, etc.). This should be a freeform URL field. There should also be an "other_urls" field which allows users to add multiple additional URLs, such as links to photos, or links to other listings for the same item on different sites. This should be implemented as a dynamic list of URL fields that the user can add/remove as needed.
- The Listing title in the catalog view, the modal, and detail view should function as a clickable link navigating to the data from the "listing_url" field, opening in a new tab. If no URL is available, the title should not be a link.
- The "other_urls" field in all Listing views should show a list of clickable links, each opening in a new tab. Each link should support an auto-labeling feature that extracts and displays the page name (e.g., "imgur.com") as the link text for better readability, based on standard practices for displaying URLs. Following app guidelines, this function should be implemented from a 3rd party library if available.

### Valuation Rules

#### Adjusted Values

- The original purpose of the Deal Brain app was to help users identify the value of a given listing. This was intended to be based on the value of the CPU in the listing, as measured by PassMark scores, to give a baseline $/PassMark score. Then, there was meant to be an "adjusted value" which took the other components of the listing into account, such as RAM, Storage, Condition, and other factors. This adjusted value would be calculated based on a set of rules defined by the user. For example, 16GB of DDR4 RAM might add $50 of value, an SSD another certain amount, etc. Then, when viewing the listing, the user could see both the baseline value based on only the CPU PassMark score and the adjusted value which also took into account the other components. We then added the advanced Valuation Rules capabilities to provide more granular control over how these adjustments were calculated.

However, it would appear that the adjusted value functionality has not been fully/correctly implemented. The following changes are proposed to complete this functionality:
  - There should be 2 views, a "Basic" view and an "Advanced" view. Advanced view should be the current state. Basic view should show only a simplified set of options for defining valuation rules, such as:
    - RAM: dropdown with predefined values (same options from the dropdown when creating/editing a listing) and then the ability to assign associated value adjustments (ie $25 per 8GB for DDR4, or $30 per 8GB for DDR5, etc.)
    - Storage: similar to RAM.
    - Condition: predefined conditions with associated value adjustments.
  - Basic and Advanced views should be toggleable via a button at the top of the Valuation Rules page.
  - Both views should utilize the same underlying code, simply with different UI for defining the rules.

**Top Priority:** Importantly, it seems that the current Valuation Rules do not impact the adjusted value displayed on the /listings page. This must be fixed so that the adjusted value is calculated based on the defined Valuation Rules applied to that Listing.

#### Other Valuation Updates

- Currently, individual rules can be enabled/disabled by clicking the button/icon next to the Rule. The same should be possible for each Rule Group and Rule Set. This would allow users to quickly enable/disable entire groups or sets of rules without needing to edit each individual rule.
- It should be possible to disable rules on a per-listing basis. When viewing or editing a listing in the Listing Catalog, there should be a section showing all Valuation Rules that would apply to that listing, along with the ability to enable/disable each rule for that specific listing. Each rule listed on the listing view should also show the adjustment amount that would be applied if the rule is enabled. This would allow users to see and control exactly which rules are affecting the adjusted value for that specific listing. Clicking on the rule should open a modal with more details about the rule and the ability to edit it if needed.
  - There should be tabs in both the Listing modal and full view for "Details" and "Valuation Rules". The Details tab would show the standard listing details, while the Valuation Rules tab would show all applicable valuation rules with enable/disable toggles and adjustment amounts.

### Global Fields



### Dashboard


## Bugs

